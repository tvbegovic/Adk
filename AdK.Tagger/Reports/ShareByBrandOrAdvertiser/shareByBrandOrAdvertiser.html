<div class="share-by-brand-adv" ng-controller="shareByBrandOrAdvertiser">
    <div class="row">
        <div class="col-md-12">
            <div class="report-filters">
                <div class="filter-row main">
                    <div class="date-wrapper-filter">
                        <report-custom-period-filter class="report-period-picker" style="margin-top:2px;" on-init="onDirectivesInit()" on-change="load()"
                            period-start="reportData.PeriodStart" period-end="reportData.PeriodEnd"></report-custom-period-filter>
					</div>
                    <report-industry-filter on-init="onDirectivesInit()" on-change="resetCategories(load)"></report-industry-filter>
                    <report-market-filter on-init="onDirectivesInit()" on-change="load()"></report-market-filter>
                    <report-toggle-value-filter on-init="onDirectivesInit()" on-change="load()"></report-toggle-value-filter>
                    <report-brand-or-advertiser-filter on-init="onDirectivesInit()" on-change="load()"></report-brand-or-advertiser-filter>
                    <report-notes note-id="share_by_brand_or_advertiser" ng-if="user.isAdmin" />
                </div>
                <div class="filter-row additional">
                    <report-limit-filter on-init="onDirectivesInit()" on-change="load()"></report-limit-filter>
                    <label class="filter-box">
                        <input type="checkbox" ng-model="current.showPieCharts" ng-click="changePieChartDisplay()">
                        Show Pie Charts
                    </label>
                </div>
                <div class="filter-row clearfix">
                    <report-category-filter on-change="load()" selected-industry="current.industry.Id"></report-category-filter>
                </div>
            </div>
            <div class="report-data clearfix">
                <div class="floated-charts-wrapper clearfix" ng-hide="message.show || loading">
                    <div class="small-chart-wrapper">
                        <label class="chart-label">
                                Share of {{ current.value.Name }} - All Media</label>
                        <nvd3 options="allMediaChartOptions" data="allMedia"></nvd3>
                    </div>
                    <div class="small-chart-wrapper">
                        <label class="chart-label">
                                Share of {{ current.value.Name }} - TV</label>
                        <nvd3 options="tvChartOptions" data="tvMedia"></nvd3>
                    </div>
                    <div class="small-chart-wrapper">
                        <label class="chart-label">
                                Share of {{ current.value.Name }} - Radio</label>
                        <nvd3 options="radioChartOptions" data="radioMedia"></nvd3>
                    </div>
                </div>
            </div>

            <report-message template="{{message.template}}" ng-show="message.show"></report-message>

        </div>
    </div>
